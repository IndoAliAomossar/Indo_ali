<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To indo ali</title>
    <link rel="stylesheet" href="src/css/index.css">
</head>
<body> 
    <div>
        <button id="aomossar" class="aomossar" value="indo_aomossar">Ta liberado?</button>
        <div id="textos" class="textos">
            <p class="texto" id="texto"></p>
        </div>
    </div>
    <div id="smurf-indo" class="smurf-indo">
        <p>Liberado pá aomossar 👍</p>
        <audio loop id="we-live" src="audio/musica.mp3"></audio>
    </div>
    <script>
        let botao = document.getElementById("aomossar");
        let smurf_indo = document.getElementById("smurf-indo");
        let audio = document.getElementById("we-live");
        let texto = document.getElementById("texto");
        let textos = document.getElementById("textos");
        const data = new Date();
        let hora = data.getHours();
        let letra = 0;
        botao.addEventListener('click', ()=> {
            if(hora >= 12 && hora <=15){
                smurf_indo.classList.toggle("aparecer");
                audio.play();
            }
            else if(hora == 11){
                audio.pause();
                letra = 0;
                texto.innerHTML = '';
                escrita(letra, "TA QUASE NA HORA DE AOMOSSAR 🤏😋");
            }
            else{
                audio.pause();
                letra = 0;
                texto.innerHTML = '';
                escrita(letra, "NÃO TA LIBERADO PÁ AOMOSSAR 👎😥");
            }
        })
    
        function escrita(letra, string){
            let string_1 = string;
            botao.setAttribute("disabled", "");
            texto.innerHTML += string_1[letra];
            letra++;
            setTimeout(()=>{
                if(letra < string_1.length){
                    escrita(letra, string)
                }else{
                    botao.removeAttribute("disabled");
                }
            }, 250);
        }
    </script>
</body>
</html>
